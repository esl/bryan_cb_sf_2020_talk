@startuml overview

title How a booking system should work
actor User 

User -> Website: Make booking 
entity   EmailServer
Website -> Backend: Process booking
database Database
Backend -> Database: Write booking (check for duplicates)
entity "Payment\nProvider" as Provider 
Backend -> Provider: Bill the card (success)
Backend -> Database: Flag transaction complete
par 
Backend -> Website: LGTM
Backend -> EmailServer: Send confirmation
EmailServer -> User: Send email
end
Website -> User: LGTM
Sentinel -> Database: Checking for lost transactions, etc
Backend -> Sentinel : Storing application crash reports
@enduml